<!DOCTYPE html>
<html>
  <head>
  </head>
  <body>
    <div id="a">
      <button onclick="getDevices();">Click me</button>
      <button onclick="getUserMedia();">Get User Media</button>
    </div>
  </body>
    <script>
      async function getDevices() {
        await navigator.mediaDevices.getUserMedia({audio: true, video: true});
        let devices = await navigator.mediaDevices.enumerateDevices();
        for (let device of devices) {
          let p = document.createElement("p");
          p.innerHTML = "id: " + device.deviceId + "kind: " + device.kind + "label: " + device.label;
          document.getElementById("a").appendChild(p);
        }
      }
      
      async function getUserMedia() {
        await navigator.mediaDevices.getUserMedia({audio: true, video: true});
        alert("Completed get user media");
      }
    </script>
</html>
